<html layout:decorate="~{layout}" xmlns="http://www.w3.org/1999/html">
<link rel="stylesheet" type="text/css" th:href="@{/style.css}">
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
<div layout:fragment="content" class="container my-3">
    <form th:action="@{/user/login}" method="post">
        <div th:if="${param.error}">
            <div class="alert alert-danger">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                     class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img"
                     aria-label="Warning:">
                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                </svg>
                <h3 class="alert-heading">Access denied!</h3>
                <hr>
                아이디 또는 비밀번호가 일치하지 않습니다. <a href="#" class="alert-link">비밀번호 찾기</a>
            </div>
        </div>

        <h1 class="display-5 text-center m-auto mt-lg-3 mb-4  pt-3">쿄즈 영어 <b>LMS</b> <br>
            <p class="fs-6">스마트 학습 관리 시스템</p></h1>




        <section>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-5 col-lg-6 col-md-8 col-12">
                        <div class="card  border border-primary shadow-lg mb-6 loginAnim">
                            <div class="card-body">

                                <div class="justify-content-center text-center mt-5">
                                    <h2 class="mb-2" style="animation: fadeInUP 3s">LOGIN</h2>
                                    <hr class="m-auto  w-75">

                                </div>

                                <div style="width:75%" class="row m-auto form-floating mt-3">
                                    <input type="text" class="form-control" id="username" name="username"  placeholder="name@example.com">
                                    <label for="username">사용자 ID</label>
                                </div>

                                <div style="width:75%" class="row m-auto form-floating mt-3">
                                    <input type="password" class="form-control" id="password" name="password" placeholder="name@example.com">
                                    <label for="password">비밀번호</label>
                                </div>

                                <div style="width:75%"  class="row  m-auto mt-4">
<!--                                    <button type="submit" id="loginButton" class=" btn btn-primary" onclick="showLoading()">로그인</button>-->
                                    <button type="submit" class="btn btn-primary" th:onclick="showLoding()">로그인
                                        <span id="spinner" class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                    </button>

                                </div>
                                <br>
                                <br>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </form>



    <script>
        $(function() {
            $("#myModal").modal("show");
        });
    </script>
    <div class="modal" id="modal"  data-bs-target="#myModal" role="dialog" aria-labelledby="remoteModalLabel" aria-hidden="true" >
        <div class="modal-dialog" style="width:850px;">
            <div class="modal-content" >
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        ×
                    </button>
                    <h4 class="modal-title" id="myModalLabel">타이틀</h4>
                </div>
                <div class="modal-body">
                    <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-4" data-widget-editbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-togglebutton="false">
                        <div role="content">
                            <div class="widget-body">
                                내용 입력
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
                    <button type="button" class="btn btn-primary" id="btn_save">저장</button>
                </div>
            </div>
        </div>
    </div>




    <br>
    <br>
    <br>
    <br>
    <br>
    <p class="text-center"><b>v 0.0.4</b></p>
</div>

<script>

    $(document).ready( function()
    {
        $('#spinner').on('click', function()
        {
            $('body').addClass('busy');
        });
    });
</script>


<script>
    function showLoading() {
        var loginButton = document.getElementById("loginButton");
        loginButton.innerHTML = "로딩 중...";
        loginButton.disabled = true;

        // 여기서 로그인 처리나 다음 단계를 수행할 수 있습니다.
        // 예를 들어, API 호출 등을 추가할 수 있습니다.

        // 로딩이 완료되면 다시 버튼으로 변경할 수 있습니다.
        setTimeout(function () {
            loginButton.innerHTML = "로그인2";
            loginButton.disabled = false;
        }, 2000);  // 여기서는 2초 후에 다시 원래 상태로 변경하도록 설정했습니다.


    }
</script>
</html>
